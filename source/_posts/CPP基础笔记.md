---
title: CPP基础笔记
date: 2023-03-18 16:14:14
tags:
- CPP
---

## 变量和基本类型

### 类型转换 - p35

#### tips

1. 当赋给无符号类型一个超出它表示范围的值时，结果为初始值对该类型表示数值总数的**取模后的余数**。例如-1赋给unsigned char结果为255。
2. 当赋给无符号类型一个超出它表示范围的值时，结果**未定义**。
3. 避免**无法预知**和**依赖于实现环境**（int长度）的行为。
4. 当在程序中某处使用了算术类型的值而其实所需的是另一种类型的值时，同样会进行类型转换。例如 **if ( 2 )** 就是true的意思。
5. 当从无符号数中减去一个值时，要确保结果不是负数。
6. **切勿混用带符号和无符号类型**。



### 字面值 - p39

#### tips

1. 字符串字面值实际为常量字符构成的数组。编译器在每个字符串的结尾处添加一个空字符 **'\0'**, 因此字面值的实际长度要比内容多1。
2. **nullptr**是指针字面值。



### 定义和声明 - p42

#### tips

1. 定义于任何**函数体外**的变量会初始化为**0**，定义在**函数体内**的**不会**被初始化。
2. 声明规定了变量的名字和类型，定义还申请内存空间和初始值。
3. **extern**用于声明，若给声明的变量赋值，extern失效。



### 引用 - p50

#### tips

1. C++11新增右值引用，常说的引用为**左值引用**。
2. 引用相当于给一个已存在的对象起一个别名，本质为一个指针常量。
3. 引用**必须被初始化**，且无法换绑。
4. 修改引用的值相当于修改引用绑定的对象。

#### 引用的作用

1. **函数参数**，其作用与指针作为函数参数相似，函数对形参的操作，等于对实参本身进行操作。 C++中推荐使用引用而非指针作为函数的参数，指针作为函数形参变量时，调用函数时仍需要在内存中分配空间。（*函数调用时，系统采用值传递的方式将实参的值传递给形参，系统会在内存中开辟空间来存储形参变量，并将实参的值复制给形参， 而采用引用作为函数形参，只要传给函数实参的别名，不需要耗费时间在内存中开辟空间存储形参，使用引用，可以提高函数的时间效率，并节省内存空间。*）
2. **常量引用**。修饰形参，防止误操作。可以对const修饰的变量的引用**直接赋值**。
3. **函数的返回值**。不能返回局部变量的引用。（*在内存中不会产生返回值的副本，函数返回值是一个临时对象，临时对象的生命周期在一个完整的语句结束。* ）



### 指针 - p52

#### tips



